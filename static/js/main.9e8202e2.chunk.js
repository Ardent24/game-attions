(this["webpackJsonpattions-game"]=this["webpackJsonpattions-game"]||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),s=a.n(r),u=a(3),l=a(4),i=a(17),o=Object(i.createLogger)({duration:!0,collapsed:!0,colors:{title:function(){return"#139BFE"},prevState:function(){return"#1C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#ff0005"}}}),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,d=(b||l.c)(Object(l.a)(o)),m=a(13),j=a(2),O="CREATE_STATE_CUBES",h="ADD_ACTIVE_CUBES",f="CREATE_RANDOM_ID",v="START_FRAME",p="EDIT_RANDOM_ATTR",x="END_FRAME",C="NEXT_LEVEL",_="GAME_OVER",g="IS_OPEN_MODAL",R="DROPPING_NEW_LVL",y=function(e){for(var t=[],a=0;a<e;a++)t.push({id:a,randomActive:!1,clkActive:!1});return t},E=function(e,t){for(var a=[],c=0;c<e;c++){var n=Math.floor(Math.random()*t);-1===a.indexOf(n)?a.push(n):c--}return a},N={openModal:!0,isGameOver:!1,cubes:[],randomCubes:[],cubesClicked:[],lvl:0,blockedCubes:!1,gameLevel:[{level:1,numberCubes:4,numberRandomCubes:2,width:"500px",modalTitle:"\u041f\u0440\u0438\u0432\u0435\u0442 \u043a\u0430\u0441\u0430\u0442\u0438\u043a! \u0421\u0435\u0439\u0447\u0430\u0441 \u043c\u044b \u0441 \u0442\u043e\u0431\u043e\u0439 \u043f\u043e\u0438\u0433\u0440\u0430\u0435\u043c!"},{level:2,numberCubes:4,numberRandomCubes:3,width:"500px",modalTitle:"\u041a\u0440\u0430\u0441\u0430\u0432\u0447\u0438\u043a, \u043f\u043e\u0433\u043d\u0430\u043b\u0438 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c!"},{level:3,numberCubes:9,numberRandomCubes:3,width:"600px",modalTitle:"\u0423\u0436\u0435 \u043b\u0443\u0447\u0448\u0435!"},{level:4,numberCubes:9,numberRandomCubes:4,width:"600px",modalTitle:"\u0422\u044b \u043e\u0447\u0435\u043d\u044c \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439!"},{level:5,numberCubes:12,numberRandomCubes:4,width:"800px",modalTitle:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u0432 \u0442\u043e\u043c \u0436\u0435 \u0434\u0443\u0445\u0435!"},{level:6,numberCubes:12,numberRandomCubes:6,width:"800px",modalTitle:"\u0425\u0430\u0440\u043e\u0448-\u0445\u0430\u0440\u043e\u0448!"},{level:7,numberCubes:16,numberRandomCubes:6,width:"800px",modalTitle:"\u0425\u0430\u0440\u043e\u0448-\u0445\u0430\u0440\u043e\u0448!"},{level:8,numberCubes:16,numberRandomCubes:8,width:"800px",modalTitle:"\u0425\u0430\u0440\u043e\u0448-\u0445\u0430\u0440\u043e\u0448!"}]},T=Object(l.b)({gameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{cubes:y(t.payload)});case f:var a=t.payloadRandom,c=t.payloadMax;return Object(j.a)(Object(j.a)({},e),{},{randomCubes:E(a,c)});case h:var n=Object(m.a)(e.cubesClicked);return n.push(t.payload),Object(j.a)(Object(j.a)({},e),{},{cubesClicked:n});case p:var r=Object(m.a)(e.cubes),s=t.payload;return r[s].randomActive=!0,Object(j.a)(Object(j.a)({},e),{},{cubes:r});case v:return Object(j.a)(Object(j.a)({},e),{},{blockedCubes:!0});case x:return Object(j.a)(Object(j.a)({},e),{},{blockedCubes:!1});case _:return Object(j.a)(Object(j.a)({},e),{},{lvl:0,isGameOver:!0});case C:return Object(j.a)(Object(j.a)({},e),{},{lvl:e.lvl+1});case g:return Object(j.a)(Object(j.a)({},e),{},{openModal:t.payload});case R:return Object(j.a)(Object(j.a)({},e),{},{cubes:[],randomCubes:[],cubesClicked:[]});default:return e}}}),A=function(e){return{type:g,payload:e}},w=Object(l.d)(T,d);w.dispatch(A(!0));var k=a(19),M=a(1),L=function(e){var t=e.randomActive,a=e.cubeInfo.id,c=Object(u.b)(),r=Object(u.c)((function(e){return e.gameReducer.blockedCubes})),s=n.a.useState("main__item"),l=Object(k.a)(s,2),i=l[0],o=l[1];return n.a.useEffect((function(){t&&(o("".concat(i," active")),setTimeout((function(){o("".concat(i))}),750))}),[t]),Object(M.jsx)("button",{className:i,"data-random":t,disabled:r,onClick:function(e){t?e.target.classList.add("click"):e.target.classList.add("miss"),c(function(e){return{type:h,payload:e}}(a))}})},D=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.gameReducer})),a=t.cubes,c=t.randomCubes,r=t.cubesClicked,s=t.lvl,l=Object(u.c)((function(e){return e.gameReducer.gameLevel[s].width}));return n.a.useEffect((function(){if(c.length===r.length&&r.length>0){var t=c.join(""),a=r.join("");e(A(!0)),e({type:R}),e(t===a?{type:C}:{type:_})}}),[r]),Object(M.jsx)("main",{className:"main",children:Object(M.jsx)("div",{className:"main__wrap",style:{maxWidth:l},children:a.map((function(e){return Object(M.jsx)(L,{randomActive:e.randomActive,cubeInfo:e},e.id)}))})})},S=function(){var e=Object(u.c)((function(e){return e.gameReducer.lvl})),t=Object(u.c)((function(t){return t.gameReducer.gameLevel[e]})),a=t.level,c=t.numberRandomCubes;return Object(M.jsx)("header",{className:"header",children:Object(M.jsxs)("div",{className:"header__wrap",children:[Object(M.jsx)("h1",{className:"header__title",children:"Game Attention "}),Object(M.jsxs)("div",{className:"header-box",children:[Object(M.jsxs)("div",{className:"header-box__item",children:[Object(M.jsx)("i",{className:"fa fa-star-o header-box__icon","aria-hidden":"true"}),Object(M.jsx)("p",{className:"header-cubes__txt",children:a})]}),Object(M.jsxs)("div",{className:"header-box__item",children:[Object(M.jsx)("i",{className:"fa fa-cubes header-box__icon","aria-hidden":"true"}),Object(M.jsxs)("p",{className:"header-cubes__txt",children:[c,"/8"]})]})]})]})})},I=a(18),F=a.n(I),G={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxWidth:"20rem",width:"100%",display:"flex",flexDirection:"column"}},V=function(){var e=Object(u.c)((function(e){return e.gameReducer})),t=e.cubes,a=e.randomCubes,c=e.lvl,r=e.openModal,s=e.isGameOver,l=Object(u.c)((function(e){return e.gameReducer.gameLevel[c]})),i=l.level,o=l.modalTitle,b=l.numberCubes,d=l.numberRandomCubes,m=Object(u.b)();n.a.useEffect((function(){r||(m({type:v}),m({type:O,payload:b}),m({type:f,payloadRandom:d,payloadMax:b}))}),[r]),n.a.useEffect((function(){r||j(t,a)}),[a]);var j=function(e,t){var a=0,c=t.length;setTimeout((function e(){a++;var n=t[a-1];m(function(e){return{type:p,payload:e}}(n)),a<c?setTimeout(e,1500):m({type:x})}),750)};return Object(M.jsxs)(F.a,{isOpen:r,style:G,overlayClassName:"modal-background",ariaHideApp:!1,children:[!s&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("h3",{className:"modal-title",children:[" ",o]}),Object(M.jsxs)("h5",{className:"modal-txt",children:["\u0423\u0440\u043e\u0432\u0435\u043d\u044c: ",i]}),Object(M.jsx)("button",{onClick:function(){m(A(!1))},className:"modal-btn",children:"OK"})]}),s&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("h2",{className:"modal-title",style:{textAlign:"center"},children:"\u0422\u044b \u0437\u0430\u043d\u0443\u0431\u0438\u043b \u0411\u0440\u0430\u0442\u0430\u043d!"})})]})};var B=function(){return Object(M.jsxs)("div",{className:"game-layout",children:[Object(M.jsx)(S,{}),Object(M.jsx)(D,{}),Object(M.jsx)(V,{})]})};a(38);s.a.render(Object(M.jsx)(n.a.StrictMode,{children:Object(M.jsx)(u.a,{store:w,children:Object(M.jsx)(B,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.9e8202e2.chunk.js.map